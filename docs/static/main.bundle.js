!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){const n=sessionStorage.getItem("geniusToken"),i=sessionStorage.getItem("spotifyToken");if(i)fetch("https://api.spotify.com/v1/me/player",{headers:{Authorization:"Bearer "+i}}).then(e=>e.json()).then(e=>{play=e,document.getElementById("album").innerText=play.item.album.name,document.getElementById("artist").innerText=play.item.artists[0].name,document.getElementById("track").innerText=play.item.name,o()});else if(0==window.location.hash.length)window.location.replace("https://accounts.spotify.com/authorize?client_id=375d23148c164a36a61d5e966358460e&redirect_uri=https:%2F%2Foberziner.github.io/spotify-lyrics&scope=user-read-recently-played user-read-private%20user-read-email&response_type=token");else{const e=window.location.hash.split("#")[1].split("&")[0].split("=")[1];sessionStorage.setItem("spotifyToken",e),window.location.replace("https://oberziner.github.io/spotify-lyrics")}const o=()=>{if(n){const e=document.getElementById("artist").innerText+" "+document.getElementById("track").innerText;e.length>0?fetch("https://api.genius.com/search?q="+encodeURI(e)+"&access_token="+n).then(e=>e.json()).then(e=>{lyr=e,document.getElementById("lyric").innerText=lyr.response.hits.map(e=>e.result.full_title+e.result.url+"\n"),r(lyr.response.hits[0])}):document.getElementById("lyric").innerText="genius"+e}else if(0==window.location.hash.length)window.location.replace("https://api.genius.com/oauth/authorize?client_id=pZfEtse85D1W3ghR1hJxJsk5oPtWOmkgenPPRnFmdYtahtLA8XyJrCJ9I2kuoI-K&redirect_uri=https://oberziner.github.io/spotify-lyrics&scope=&response_type=token");else{const e=window.location.hash.split("#")[1].split("&")[0].split("=")[1];sessionStorage.setItem("geniusToken",e),window.location.replace("https://oberziner.github.io/spotify-lyrics")}},r=e=>{const t='<div id="rg_embed_link_'+e.result.id+'" class="rg_embed_link" data-song-id="'+e.result.id+'">Read <a href="https://genius.com/Joy-division-love-will-tear-us-apart-lyrics">“Love Will Tear Us Apart” by Joy Division</a> on Genius</div> <script crossorigin src="//genius.com/songs/'+e.result.id+'/embed.js"><\/script>';console.log(t),document.getElementById("lyrictext").innerHTML='<iframe width="100%" height="300" style="border:none" srcdoc=\''+t+"'> </iframe>"}}]);
//# sourceMappingURL=main.bundle.js.map