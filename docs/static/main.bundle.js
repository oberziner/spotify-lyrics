!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){const n=sessionStorage.getItem("geniusToken"),o=sessionStorage.getItem("spotifyToken");if(o)fetch("https://api.spotify.com/v1/me/player",{headers:{Authorization:"Bearer "+o}}).then(e=>e.json()).then(e=>{play=e,document.getElementById("album").innerText=play.item.album.name,document.getElementById("artist").innerText=play.item.artists[0].name,document.getElementById("track").innerText=play.item.name,i()});else if(0==window.location.hash.length)window.location.replace("https://accounts.spotify.com/authorize?client_id=375d23148c164a36a61d5e966358460e&redirect_uri=http:%2F%2Flocalhost:8080&scope=user-read-recently-played user-read-private%20user-read-email&response_type=token");else{const e=window.location.hash.split("#")[1].split("&")[0].split("=")[1];sessionStorage.setItem("spotifyToken",e),window.location.replace("http://localhost:8080")}const i=()=>{if(n){const e=document.getElementById("artist").innerText+" "+document.getElementById("track").innerText;e.length>0?fetch("https://api.genius.com/search?q="+encodeURI(e)+"&access_token="+n).then(e=>e.json()).then(e=>{lyr=e,document.getElementById("lyric").innerText=lyr.response.hits.map(e=>e.result.full_title+e.result.url+"\n"),r(lyr.response.hits[0])}):document.getElementById("lyric").innerText="genius"+e}else if(0==window.location.hash.length)window.location.replace("https://api.genius.com/oauth/authorize?client_id=pZfEtse85D1W3ghR1hJxJsk5oPtWOmkgenPPRnFmdYtahtLA8XyJrCJ9I2kuoI-K&redirect_uri=http://localhost:8080&scope=&response_type=token");else{const e=window.location.hash.split("#")[1].split("&")[0].split("=")[1];sessionStorage.setItem("geniusToken",e),window.location.replace("http://localhost:8080")}},r=e=>{const t='<div id="rg_embed_link_'+e.result.id+'" class="rg_embed_link" data-song-id="'+e.result.id+'">Read <a href="https://genius.com/Joy-division-love-will-tear-us-apart-lyrics">“Love Will Tear Us Apart” by Joy Division</a> on Genius</div> <script crossorigin src="//genius.com/songs/'+e.result.id+'/embed.js"><\/script>';console.log(t),document.getElementById("lyrictext").innerHTML='<iframe width="100%" height="300" style="border:none" srcdoc=\''+t+"'> </iframe>"}}]);
//# sourceMappingURL=main.bundle.js.map